(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var t=e.i(43476),a=e.i(75157);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border border-border py-6 transition-colors duration-200 hover:bg-card-hover",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function s({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...r})}function o({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...r})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...r})}function l({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>i,"CardDescription",()=>o,"CardFooter",()=>l,"CardHeader",()=>n,"CardTitle",()=>s])},67692,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(70152),n=e.i(81140),s=e.i(20783),o=e.i(30030),i=e.i(69340),l=e.i(86318),d=e.i(99682),c=e.i(35804),u=e.i(48425),p=e.i(75830),m=["PageUp","PageDown"],f=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],h={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},g="Slider",[x,v,b]=(0,p.createCollection)(g),[w,j]=(0,o.createContextScope)(g,[b]),[y,S]=w(g),N=a.forwardRef((e,s)=>{let{name:o,min:l=0,max:d=100,step:c=1,orientation:u="horizontal",disabled:p=!1,minStepsBetweenThumbs:h=0,defaultValue:g=[l],value:v,onValueChange:b=()=>{},onValueCommit:w=()=>{},inverted:j=!1,form:S,...N}=e,C=a.useRef(new Set),P=a.useRef(0),I="horizontal"===u,[T=[],D]=(0,i.useControllableState)({prop:v,defaultProp:g,onChange:e=>{let t=[...C.current];t[P.current]?.focus(),b(e)}}),E=a.useRef(T);function z(e,t,{commit:a}={commit:!1}){let n,s=(String(c).split(".")[1]||"").length,o=Math.round((Math.round((e-l)/c)*c+l)*(n=Math.pow(10,s)))/n,i=(0,r.clamp)(o,[l,d]);D((e=[])=>{let r=function(e=[],t,a){let r=[...e];return r[a]=t,r.sort((e,t)=>e-t)}(e,i,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,a)=>e[a+1]-t))>=t;return!0}(r,h*c))return e;{P.current=r.indexOf(i);let t=String(r)!==String(e);return t&&a&&w(r),t?r:e}})}return(0,t.jsx)(y,{scope:e.__scopeSlider,name:o,disabled:p,min:l,max:d,valueIndexToChangeRef:P,thumbs:C.current,values:T,orientation:u,form:S,children:(0,t.jsx)(x.Provider,{scope:e.__scopeSlider,children:(0,t.jsx)(x.Slot,{scope:e.__scopeSlider,children:(0,t.jsx)(I?k:R,{"aria-disabled":p,"data-disabled":p?"":void 0,...N,ref:s,onPointerDown:(0,n.composeEventHandlers)(N.onPointerDown,()=>{p||(E.current=T)}),min:l,max:d,inverted:j,onSlideStart:p?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let a=e.map(e=>Math.abs(e-t)),r=Math.min(...a);return a.indexOf(r)}(T,e);z(e,t)},onSlideMove:p?void 0:function(e){z(e,P.current)},onSlideEnd:p?void 0:function(){let e=E.current[P.current];T[P.current]!==e&&w(T)},onHomeKeyDown:()=>!p&&z(l,0,{commit:!0}),onEndKeyDown:()=>!p&&z(d,T.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!p){let a=m.includes(e.key)||e.shiftKey&&f.includes(e.key),r=P.current;z(T[r]+c*(a?10:1)*t,r,{commit:!0})}}})})})})});N.displayName=g;var[C,P]=w(g,{startEdge:"left",endEdge:"right",size:"width",direction:1}),k=a.forwardRef((e,r)=>{let{min:n,max:o,dir:i,inverted:d,onSlideStart:c,onSlideMove:u,onSlideEnd:p,onStepKeyDown:m,...f}=e,[g,x]=a.useState(null),v=(0,s.useComposedRefs)(r,e=>x(e)),b=a.useRef(void 0),w=(0,l.useDirection)(i),j="ltr"===w,y=j&&!d||!j&&d;function S(e){let t=b.current||g.getBoundingClientRect(),a=B([0,t.width],y?[n,o]:[o,n]);return b.current=t,a(e-t.left)}return(0,t.jsx)(C,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:(0,t.jsx)(I,{dir:w,"data-orientation":"horizontal",...f,ref:v,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=S(e.clientX);c?.(t)},onSlideMove:e=>{let t=S(e.clientX);u?.(t)},onSlideEnd:()=>{b.current=void 0,p?.()},onStepKeyDown:e=>{let t=h[y?"from-left":"from-right"].includes(e.key);m?.({event:e,direction:t?-1:1})}})})}),R=a.forwardRef((e,r)=>{let{min:n,max:o,inverted:i,onSlideStart:l,onSlideMove:d,onSlideEnd:c,onStepKeyDown:u,...p}=e,m=a.useRef(null),f=(0,s.useComposedRefs)(r,m),g=a.useRef(void 0),x=!i;function v(e){let t=g.current||m.current.getBoundingClientRect(),a=B([0,t.height],x?[o,n]:[n,o]);return g.current=t,a(e-t.top)}return(0,t.jsx)(C,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:(0,t.jsx)(I,{"data-orientation":"vertical",...p,ref:f,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=v(e.clientY);l?.(t)},onSlideMove:e=>{let t=v(e.clientY);d?.(t)},onSlideEnd:()=>{g.current=void 0,c?.()},onStepKeyDown:e=>{let t=h[x?"from-bottom":"from-top"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),I=a.forwardRef((e,a)=>{let{__scopeSlider:r,onSlideStart:s,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:l,onEndKeyDown:d,onStepKeyDown:c,...p}=e,h=S(g,r);return(0,t.jsx)(u.Primitive.span,{...p,ref:a,onKeyDown:(0,n.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(l(e),e.preventDefault()):"End"===e.key?(d(e),e.preventDefault()):m.concat(f).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:(0,n.composeEventHandlers)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),h.thumbs.has(t)?t.focus():s(e)}),onPointerMove:(0,n.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&o(e)}),onPointerUp:(0,n.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),i(e))})})}),T="SliderTrack",D=a.forwardRef((e,a)=>{let{__scopeSlider:r,...n}=e,s=S(T,r);return(0,t.jsx)(u.Primitive.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:a})});D.displayName=T;var E="SliderRange",z=a.forwardRef((e,r)=>{let{__scopeSlider:n,...o}=e,i=S(E,n),l=P(E,n),d=a.useRef(null),c=(0,s.useComposedRefs)(r,d),p=i.values.length,m=i.values.map(e=>H(e,i.min,i.max)),f=p>1?Math.min(...m):0,h=100-Math.max(...m);return(0,t.jsx)(u.Primitive.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...o,ref:c,style:{...e.style,[l.startEdge]:f+"%",[l.endEdge]:h+"%"}})});z.displayName=E;var L="SliderThumb",A=a.forwardRef((e,r)=>{let n=v(e.__scopeSlider),[o,i]=a.useState(null),l=(0,s.useComposedRefs)(r,e=>i(e)),d=a.useMemo(()=>o?n().findIndex(e=>e.ref.current===o):-1,[n,o]);return(0,t.jsx)(_,{...e,ref:l,index:d})}),_=a.forwardRef((e,r)=>{var o,i,l,d,p;let m,f,{__scopeSlider:h,index:g,name:v,...b}=e,w=S(L,h),j=P(L,h),[y,N]=a.useState(null),C=(0,s.useComposedRefs)(r,e=>N(e)),k=!y||w.form||!!y.closest("form"),R=(0,c.useSize)(y),I=w.values[g],T=void 0===I?0:H(I,w.min,w.max),D=(o=g,(i=w.values.length)>2?`Value ${o+1} of ${i}`:2===i?["Minimum","Maximum"][o]:void 0),E=R?.[j.size],z=E?(l=E,d=T,p=j.direction,f=B([0,50],[0,m=l/2]),(m-f(d)*p)*p):0;return a.useEffect(()=>{if(y)return w.thumbs.add(y),()=>{w.thumbs.delete(y)}},[y,w.thumbs]),(0,t.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[j.startEdge]:`calc(${T}% + ${z}px)`},children:[(0,t.jsx)(x.ItemSlot,{scope:e.__scopeSlider,children:(0,t.jsx)(u.Primitive.span,{role:"slider","aria-label":e["aria-label"]||D,"aria-valuemin":w.min,"aria-valuenow":I,"aria-valuemax":w.max,"aria-orientation":w.orientation,"data-orientation":w.orientation,"data-disabled":w.disabled?"":void 0,tabIndex:w.disabled?void 0:0,...b,ref:C,style:void 0===I?{display:"none"}:e.style,onFocus:(0,n.composeEventHandlers)(e.onFocus,()=>{w.valueIndexToChangeRef.current=g})})}),k&&(0,t.jsx)(M,{name:v??(w.name?w.name+(w.values.length>1?"[]":""):void 0),form:w.form,value:I},g)]})});A.displayName=L;var M=a.forwardRef(({__scopeSlider:e,value:r,...n},o)=>{let i=a.useRef(null),l=(0,s.useComposedRefs)(i,o),c=(0,d.usePrevious)(r);return a.useEffect(()=>{let e=i.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(c!==r&&t){let a=new Event("input",{bubbles:!0});t.call(e,r),e.dispatchEvent(a)}},[c,r]),(0,t.jsx)(u.Primitive.input,{style:{display:"none"},...n,ref:l,defaultValue:r})});function H(e,t,a){return(0,r.clamp)(100/(a-t)*(e-t),[0,100])}function B(e,t){return a=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(a-e[0])}}M.displayName="RadioBubbleInput",e.s(["Range",()=>z,"Root",()=>N,"Slider",()=>N,"SliderRange",()=>z,"SliderThumb",()=>A,"SliderTrack",()=>D,"Thumb",()=>A,"Track",()=>D,"createSliderScope",()=>j],44729);var F=e.i(44729),F=F,V=e.i(75157);function U({className:e,defaultValue:r,value:n,min:s=0,max:o=100,...i}){let l=a.useMemo(()=>Array.isArray(n)?n:Array.isArray(r)?r:[s,o],[n,r,s,o]);return(0,t.jsxs)(F.Root,{"data-slot":"slider",defaultValue:r,value:n,min:s,max:o,className:(0,V.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...i,children:[(0,t.jsx)(F.Track,{"data-slot":"slider-track",className:(0,V.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,t.jsx)(F.Range,{"data-slot":"slider-range",className:(0,V.cn)("bg-accent-blue absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(e,a)=>(0,t.jsx)(F.Thumb,{"data-slot":"slider-thumb",className:"border-accent-blue ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},a))]})}e.s(["Slider",()=>U],67692)},67489,31171,99219,59411,e=>{"use strict";var t=e.i(43476),a=e.i(78784),r=e.i(75254);let n=(0,r.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["default",()=>n],31171);let s=(0,r.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["default",()=>s],99219);var o=e.i(71645),i=e.i(74080),l=e.i(70152),d=e.i(81140),c=e.i(75830),u=e.i(20783),p=e.i(30030),m=e.i(86318),f=e.i(26330),h=e.i(3536),g=e.i(65491),x=e.i(10772),v=e.i(53660),b=e.i(74606),w=e.i(48425),j=e.i(91918),y=e.i(30207),S=e.i(69340),N=e.i(34620),C=e.i(99682),P=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),k=o.forwardRef((e,a)=>(0,t.jsx)(w.Primitive.span,{...e,ref:a,style:{...P,...e.style}}));k.displayName="VisuallyHidden",e.s(["Root",()=>k,"VISUALLY_HIDDEN_STYLES",()=>P],59411);var R=e.i(86312),I=e.i(85369),T=[" ","Enter","ArrowUp","ArrowDown"],D=[" ","Enter"],E="Select",[z,L,A]=(0,c.createCollection)(E),[_,M]=(0,p.createContextScope)(E,[A,v.createPopperScope]),H=(0,v.createPopperScope)(),[B,F]=_(E),[V,U]=_(E),O=e=>{let{__scopeSelect:a,children:r,open:n,defaultOpen:s,onOpenChange:i,value:l,defaultValue:d,onValueChange:c,dir:u,name:p,autoComplete:f,disabled:h,required:g,form:b}=e,w=H(a),[j,y]=o.useState(null),[N,C]=o.useState(null),[P,k]=o.useState(!1),R=(0,m.useDirection)(u),[I,T]=(0,S.useControllableState)({prop:n,defaultProp:s??!1,onChange:i,caller:E}),[D,L]=(0,S.useControllableState)({prop:l,defaultProp:d,onChange:c,caller:E}),A=o.useRef(null),_=!j||b||!!j.closest("form"),[M,F]=o.useState(new Set),U=Array.from(M).map(e=>e.props.value).join(";");return(0,t.jsx)(v.Root,{...w,children:(0,t.jsxs)(B,{required:g,scope:a,trigger:j,onTriggerChange:y,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:P,onValueNodeHasChildrenChange:k,contentId:(0,x.useId)(),value:D,onValueChange:L,open:I,onOpenChange:T,dir:R,triggerPointerDownPosRef:A,disabled:h,children:[(0,t.jsx)(z.Provider,{scope:a,children:(0,t.jsx)(V,{scope:e.__scopeSelect,onNativeOptionAdd:o.useCallback(e=>{F(t=>new Set(t).add(e))},[]),onNativeOptionRemove:o.useCallback(e=>{F(t=>{let a=new Set(t);return a.delete(e),a})},[]),children:r})}),_?(0,t.jsxs)(eT,{"aria-hidden":!0,required:g,tabIndex:-1,name:p,autoComplete:f,value:D,onChange:e=>L(e.target.value),disabled:h,form:b,children:[void 0===D?(0,t.jsx)("option",{value:""}):null,Array.from(M)]},U):null]})})};O.displayName=E;var $="SelectTrigger",G=o.forwardRef((e,a)=>{let{__scopeSelect:r,disabled:n=!1,...s}=e,i=H(r),l=F($,r),c=l.disabled||n,p=(0,u.useComposedRefs)(a,l.onTriggerChange),m=L(r),f=o.useRef("touch"),[h,g,x]=eE(e=>{let t=m().filter(e=>!e.disabled),a=t.find(e=>e.value===l.value),r=ez(t,e,a);void 0!==r&&l.onValueChange(r.value)}),b=e=>{c||(l.onOpenChange(!0),x()),e&&(l.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,t.jsx)(v.Anchor,{asChild:!0,...i,children:(0,t.jsx)(w.Primitive.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":eD(l.value)?"":void 0,...s,ref:p,onClick:(0,d.composeEventHandlers)(s.onClick,e=>{e.currentTarget.focus(),"mouse"!==f.current&&b(e)}),onPointerDown:(0,d.composeEventHandlers)(s.onPointerDown,e=>{f.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(b(e),e.preventDefault())}),onKeyDown:(0,d.composeEventHandlers)(s.onKeyDown,e=>{let t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||g(e.key),(!t||" "!==e.key)&&T.includes(e.key)&&(b(),e.preventDefault())})})})});G.displayName=$;var K="SelectValue",W=o.forwardRef((e,a)=>{let{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...l}=e,d=F(K,r),{onValueNodeHasChildrenChange:c}=d,p=void 0!==o,m=(0,u.useComposedRefs)(a,d.onValueNodeChange);return(0,N.useLayoutEffect)(()=>{c(p)},[c,p]),(0,t.jsx)(w.Primitive.span,{...l,ref:m,style:{pointerEvents:"none"},children:eD(d.value)?(0,t.jsx)(t.Fragment,{children:i}):o})});W.displayName=K;var q=o.forwardRef((e,a)=>{let{__scopeSelect:r,children:n,...s}=e;return(0,t.jsx)(w.Primitive.span,{"aria-hidden":!0,...s,ref:a,children:n||"â–¼"})});q.displayName="SelectIcon";var X=e=>(0,t.jsx)(b.Portal,{asChild:!0,...e});X.displayName="SelectPortal";var J="SelectContent",Y=o.forwardRef((e,a)=>{let r=F(J,e.__scopeSelect),[n,s]=o.useState();return((0,N.useLayoutEffect)(()=>{s(new DocumentFragment)},[]),r.open)?(0,t.jsx)(et,{...e,ref:a}):n?i.createPortal((0,t.jsx)(Z,{scope:e.__scopeSelect,children:(0,t.jsx)(z.Slot,{scope:e.__scopeSelect,children:(0,t.jsx)("div",{children:e.children})})}),n):null});Y.displayName=J;var[Z,Q]=_(J),ee=(0,j.createSlot)("SelectContent.RemoveScroll"),et=o.forwardRef((e,a)=>{let{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:p,align:m,alignOffset:x,arrowPadding:v,collisionBoundary:b,collisionPadding:w,sticky:j,hideWhenDetached:y,avoidCollisions:S,...N}=e,C=F(J,r),[P,k]=o.useState(null),[T,D]=o.useState(null),E=(0,u.useComposedRefs)(a,e=>k(e)),[z,A]=o.useState(null),[_,M]=o.useState(null),H=L(r),[B,V]=o.useState(!1),U=o.useRef(!1);o.useEffect(()=>{if(P)return(0,R.hideOthers)(P)},[P]),(0,h.useFocusGuards)();let O=o.useCallback(e=>{let[t,...a]=H().map(e=>e.ref.current),[r]=a.slice(-1),n=document.activeElement;for(let a of e)if(a===n||(a?.scrollIntoView({block:"nearest"}),a===t&&T&&(T.scrollTop=0),a===r&&T&&(T.scrollTop=T.scrollHeight),a?.focus(),document.activeElement!==n))return},[H,T]),$=o.useCallback(()=>O([z,P]),[O,z,P]);o.useEffect(()=>{B&&$()},[B,$]);let{onOpenChange:G,triggerPointerDownPosRef:K}=C;o.useEffect(()=>{if(P){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(K.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(K.current?.y??0))}},a=a=>{e.x<=10&&e.y<=10?a.preventDefault():P.contains(a.target)||G(!1),document.removeEventListener("pointermove",t),K.current=null};return null!==K.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",a,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",a,{capture:!0})}}},[P,G,K]),o.useEffect(()=>{let e=()=>G(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[G]);let[W,q]=eE(e=>{let t=H().filter(e=>!e.disabled),a=t.find(e=>e.ref.current===document.activeElement),r=ez(t,e,a);r&&setTimeout(()=>r.ref.current.focus())}),X=o.useCallback((e,t,a)=>{let r=!U.current&&!a;(void 0!==C.value&&C.value===t||r)&&(A(e),r&&(U.current=!0))},[C.value]),Y=o.useCallback(()=>P?.focus(),[P]),Q=o.useCallback((e,t,a)=>{let r=!U.current&&!a;(void 0!==C.value&&C.value===t||r)&&M(e)},[C.value]),et="popper"===n?er:ea,en=et===er?{side:c,sideOffset:p,align:m,alignOffset:x,arrowPadding:v,collisionBoundary:b,collisionPadding:w,sticky:j,hideWhenDetached:y,avoidCollisions:S}:{};return(0,t.jsx)(Z,{scope:r,content:P,viewport:T,onViewportChange:D,itemRefCallback:X,selectedItem:z,onItemLeave:Y,itemTextRefCallback:Q,focusSelectedItem:$,selectedItemText:_,position:n,isPositioned:B,searchRef:W,children:(0,t.jsx)(I.RemoveScroll,{as:ee,allowPinchZoom:!0,children:(0,t.jsx)(g.FocusScope,{asChild:!0,trapped:C.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,d.composeEventHandlers)(s,e=>{C.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,t.jsx)(f.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:(0,t.jsx)(et,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:e=>e.preventDefault(),...N,...en,onPlaced:()=>V(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:(0,d.composeEventHandlers)(N.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||q(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=H().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let a=e.target,r=t.indexOf(a);t=t.slice(r+1)}setTimeout(()=>O(t)),e.preventDefault()}})})})})})})});et.displayName="SelectContentImpl";var ea=o.forwardRef((e,a)=>{let{__scopeSelect:r,onPlaced:n,...s}=e,i=F(J,r),d=Q(J,r),[c,p]=o.useState(null),[m,f]=o.useState(null),h=(0,u.useComposedRefs)(a,e=>f(e)),g=L(r),x=o.useRef(!1),v=o.useRef(!0),{viewport:b,selectedItem:j,selectedItemText:y,focusSelectedItem:S}=d,C=o.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&m&&b&&j&&y){let e=i.trigger.getBoundingClientRect(),t=m.getBoundingClientRect(),a=i.valueNode.getBoundingClientRect(),r=y.getBoundingClientRect();if("rtl"!==i.dir){let n=r.left-t.left,s=a.left-n,o=e.left-s,i=e.width+o,d=Math.max(i,t.width),u=window.innerWidth-10,p=(0,l.clamp)(s,[10,Math.max(10,u-d)]);c.style.minWidth=i+"px",c.style.left=p+"px"}else{let n=t.right-r.right,s=window.innerWidth-a.right-n,o=window.innerWidth-e.right-s,i=e.width+o,d=Math.max(i,t.width),u=window.innerWidth-10,p=(0,l.clamp)(s,[10,Math.max(10,u-d)]);c.style.minWidth=i+"px",c.style.right=p+"px"}let s=g(),o=window.innerHeight-20,d=b.scrollHeight,u=window.getComputedStyle(m),p=parseInt(u.borderTopWidth,10),f=parseInt(u.paddingTop,10),h=parseInt(u.borderBottomWidth,10),v=p+f+d+parseInt(u.paddingBottom,10)+h,w=Math.min(5*j.offsetHeight,v),S=window.getComputedStyle(b),N=parseInt(S.paddingTop,10),C=parseInt(S.paddingBottom,10),P=e.top+e.height/2-10,k=j.offsetHeight/2,R=p+f+(j.offsetTop+k);if(R<=P){let e=s.length>0&&j===s[s.length-1].ref.current;c.style.bottom="0px";let t=Math.max(o-P,k+(e?C:0)+(m.clientHeight-b.offsetTop-b.offsetHeight)+h);c.style.height=R+t+"px"}else{let e=s.length>0&&j===s[0].ref.current;c.style.top="0px";let t=Math.max(P,p+b.offsetTop+(e?N:0)+k);c.style.height=t+(v-R)+"px",b.scrollTop=R-P+b.offsetTop}c.style.margin="10px 0",c.style.minHeight=w+"px",c.style.maxHeight=o+"px",n?.(),requestAnimationFrame(()=>x.current=!0)}},[g,i.trigger,i.valueNode,c,m,b,j,y,i.dir,n]);(0,N.useLayoutEffect)(()=>C(),[C]);let[P,k]=o.useState();(0,N.useLayoutEffect)(()=>{m&&k(window.getComputedStyle(m).zIndex)},[m]);let R=o.useCallback(e=>{e&&!0===v.current&&(C(),S?.(),v.current=!1)},[C,S]);return(0,t.jsx)(en,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:R,children:(0,t.jsx)("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:(0,t.jsx)(w.Primitive.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ea.displayName="SelectItemAlignedPosition";var er=o.forwardRef((e,a)=>{let{__scopeSelect:r,align:n="start",collisionPadding:s=10,...o}=e,i=H(r);return(0,t.jsx)(v.Content,{...i,...o,ref:a,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});er.displayName="SelectPopperPosition";var[en,es]=_(J,{}),eo="SelectViewport",ei=o.forwardRef((e,a)=>{let{__scopeSelect:r,nonce:n,...s}=e,i=Q(eo,r),l=es(eo,r),c=(0,u.useComposedRefs)(a,i.onViewportChange),p=o.useRef(0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),(0,t.jsx)(z.Slot,{scope:r,children:(0,t.jsx)(w.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:(0,d.composeEventHandlers)(s.onScroll,e=>{let t=e.currentTarget,{contentWrapper:a,shouldExpandOnScrollRef:r}=l;if(r?.current&&a){let e=Math.abs(p.current-t.scrollTop);if(e>0){let r=window.innerHeight-20,n=Math.max(parseFloat(a.style.minHeight),parseFloat(a.style.height));if(n<r){let s=n+e,o=Math.min(r,s),i=s-o;a.style.height=o+"px","0px"===a.style.bottom&&(t.scrollTop=i>0?i:0,a.style.justifyContent="flex-end")}}}p.current=t.scrollTop})})})]})});ei.displayName=eo;var el="SelectGroup",[ed,ec]=_(el),eu=o.forwardRef((e,a)=>{let{__scopeSelect:r,...n}=e,s=(0,x.useId)();return(0,t.jsx)(ed,{scope:r,id:s,children:(0,t.jsx)(w.Primitive.div,{role:"group","aria-labelledby":s,...n,ref:a})})});eu.displayName=el;var ep="SelectLabel",em=o.forwardRef((e,a)=>{let{__scopeSelect:r,...n}=e,s=ec(ep,r);return(0,t.jsx)(w.Primitive.div,{id:s.id,...n,ref:a})});em.displayName=ep;var ef="SelectItem",[eh,eg]=_(ef),ex=o.forwardRef((e,a)=>{let{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...l}=e,c=F(ef,r),p=Q(ef,r),m=c.value===n,[f,h]=o.useState(i??""),[g,v]=o.useState(!1),b=(0,u.useComposedRefs)(a,e=>p.itemRefCallback?.(e,n,s)),j=(0,x.useId)(),y=o.useRef("touch"),S=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(""===n)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,t.jsx)(eh,{scope:r,value:n,disabled:s,textId:j,isSelected:m,onItemTextChange:o.useCallback(e=>{h(t=>t||(e?.textContent??"").trim())},[]),children:(0,t.jsx)(z.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:(0,t.jsx)(w.Primitive.div,{role:"option","aria-labelledby":j,"data-highlighted":g?"":void 0,"aria-selected":m&&g,"data-state":m?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:b,onFocus:(0,d.composeEventHandlers)(l.onFocus,()=>v(!0)),onBlur:(0,d.composeEventHandlers)(l.onBlur,()=>v(!1)),onClick:(0,d.composeEventHandlers)(l.onClick,()=>{"mouse"!==y.current&&S()}),onPointerUp:(0,d.composeEventHandlers)(l.onPointerUp,()=>{"mouse"===y.current&&S()}),onPointerDown:(0,d.composeEventHandlers)(l.onPointerDown,e=>{y.current=e.pointerType}),onPointerMove:(0,d.composeEventHandlers)(l.onPointerMove,e=>{y.current=e.pointerType,s?p.onItemLeave?.():"mouse"===y.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,d.composeEventHandlers)(l.onPointerLeave,e=>{e.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:(0,d.composeEventHandlers)(l.onKeyDown,e=>{(p.searchRef?.current===""||" "!==e.key)&&(D.includes(e.key)&&S()," "===e.key&&e.preventDefault())})})})})});ex.displayName=ef;var ev="SelectItemText",eb=o.forwardRef((e,a)=>{let{__scopeSelect:r,className:n,style:s,...l}=e,d=F(ev,r),c=Q(ev,r),p=eg(ev,r),m=U(ev,r),[f,h]=o.useState(null),g=(0,u.useComposedRefs)(a,e=>h(e),p.onItemTextChange,e=>c.itemTextRefCallback?.(e,p.value,p.disabled)),x=f?.textContent,v=o.useMemo(()=>(0,t.jsx)("option",{value:p.value,disabled:p.disabled,children:x},p.value),[p.disabled,p.value,x]),{onNativeOptionAdd:b,onNativeOptionRemove:j}=m;return(0,N.useLayoutEffect)(()=>(b(v),()=>j(v)),[b,j,v]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Primitive.span,{id:p.textId,...l,ref:g}),p.isSelected&&d.valueNode&&!d.valueNodeHasChildren?i.createPortal(l.children,d.valueNode):null]})});eb.displayName=ev;var ew="SelectItemIndicator",ej=o.forwardRef((e,a)=>{let{__scopeSelect:r,...n}=e;return eg(ew,r).isSelected?(0,t.jsx)(w.Primitive.span,{"aria-hidden":!0,...n,ref:a}):null});ej.displayName=ew;var ey="SelectScrollUpButton",eS=o.forwardRef((e,a)=>{let r=Q(ey,e.__scopeSelect),n=es(ey,e.__scopeSelect),[s,i]=o.useState(!1),l=(0,u.useComposedRefs)(a,n.onScrollButtonChange);return(0,N.useLayoutEffect)(()=>{if(r.viewport&&r.isPositioned){let e=function(){i(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),s?(0,t.jsx)(eP,{...e,ref:l,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});eS.displayName=ey;var eN="SelectScrollDownButton",eC=o.forwardRef((e,a)=>{let r=Q(eN,e.__scopeSelect),n=es(eN,e.__scopeSelect),[s,i]=o.useState(!1),l=(0,u.useComposedRefs)(a,n.onScrollButtonChange);return(0,N.useLayoutEffect)(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;i(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),s?(0,t.jsx)(eP,{...e,ref:l,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});eC.displayName=eN;var eP=o.forwardRef((e,a)=>{let{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Q("SelectScrollButton",r),l=o.useRef(null),c=L(r),u=o.useCallback(()=>{null!==l.current&&(window.clearInterval(l.current),l.current=null)},[]);return o.useEffect(()=>()=>u(),[u]),(0,N.useLayoutEffect)(()=>{let e=c().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[c]),(0,t.jsx)(w.Primitive.div,{"aria-hidden":!0,...s,ref:a,style:{flexShrink:0,...s.style},onPointerDown:(0,d.composeEventHandlers)(s.onPointerDown,()=>{null===l.current&&(l.current=window.setInterval(n,50))}),onPointerMove:(0,d.composeEventHandlers)(s.onPointerMove,()=>{i.onItemLeave?.(),null===l.current&&(l.current=window.setInterval(n,50))}),onPointerLeave:(0,d.composeEventHandlers)(s.onPointerLeave,()=>{u()})})}),ek=o.forwardRef((e,a)=>{let{__scopeSelect:r,...n}=e;return(0,t.jsx)(w.Primitive.div,{"aria-hidden":!0,...n,ref:a})});ek.displayName="SelectSeparator";var eR="SelectArrow",eI=o.forwardRef((e,a)=>{let{__scopeSelect:r,...n}=e,s=H(r),o=F(eR,r),i=Q(eR,r);return o.open&&"popper"===i.position?(0,t.jsx)(v.Arrow,{...s,...n,ref:a}):null});eI.displayName=eR;var eT=o.forwardRef(({__scopeSelect:e,value:a,...r},n)=>{let s=o.useRef(null),i=(0,u.useComposedRefs)(n,s),l=(0,C.usePrevious)(a);return o.useEffect(()=>{let e=s.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(l!==a&&t){let r=new Event("change",{bubbles:!0});t.call(e,a),e.dispatchEvent(r)}},[l,a]),(0,t.jsx)(w.Primitive.select,{...r,style:{...P,...r.style},ref:i,defaultValue:a})});function eD(e){return""===e||void 0===e}function eE(e){let t=(0,y.useCallbackRef)(e),a=o.useRef(""),r=o.useRef(0),n=o.useCallback(e=>{let n=a.current+e;t(n),function e(t){a.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(n)},[t]),s=o.useCallback(()=>{a.current="",window.clearTimeout(r.current)},[]);return o.useEffect(()=>()=>window.clearTimeout(r.current),[]),[a,n,s]}function ez(e,t,a){var r,n;let s=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,o=a?e.indexOf(a):-1,i=(r=e,n=Math.max(o,0),r.map((e,t)=>r[(n+t)%r.length]));1===s.length&&(i=i.filter(e=>e!==a));let l=i.find(e=>e.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==a?l:void 0}eT.displayName="SelectBubbleInput",e.s(["Arrow",()=>eI,"Content",()=>Y,"Group",()=>eu,"Icon",()=>q,"Item",()=>ex,"ItemIndicator",()=>ej,"ItemText",()=>eb,"Label",()=>em,"Portal",()=>X,"Root",()=>O,"ScrollDownButton",()=>eC,"ScrollUpButton",()=>eS,"Select",()=>O,"SelectArrow",()=>eI,"SelectContent",()=>Y,"SelectGroup",()=>eu,"SelectIcon",()=>q,"SelectItem",()=>ex,"SelectItemIndicator",()=>ej,"SelectItemText",()=>eb,"SelectLabel",()=>em,"SelectPortal",()=>X,"SelectScrollDownButton",()=>eC,"SelectScrollUpButton",()=>eS,"SelectSeparator",()=>ek,"SelectTrigger",()=>G,"SelectValue",()=>W,"SelectViewport",()=>ei,"Separator",()=>ek,"Trigger",()=>G,"Value",()=>W,"Viewport",()=>ei,"createSelectScope",()=>M],29402);var eL=e.i(29402),eL=eL,eA=e.i(75157);function e_({...e}){return(0,t.jsx)(eL.Root,{"data-slot":"select",...e})}function eM({...e}){return(0,t.jsx)(eL.Value,{"data-slot":"select-value",...e})}function eH({className:e,size:a="default",children:r,...s}){return(0,t.jsxs)(eL.Trigger,{"data-slot":"select-trigger","data-size":a,className:(0,eA.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 aria-invalid:border-destructive flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s,children:[r,(0,t.jsx)(eL.Icon,{asChild:!0,children:(0,t.jsx)(n,{className:"size-4 opacity-50"})})]})}function eB({className:e,children:a,position:r="item-aligned",align:n="center",...s}){return(0,t.jsx)(eL.Portal,{children:(0,t.jsxs)(eL.Content,{"data-slot":"select-content",className:(0,eA.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,align:n,...s,children:[(0,t.jsx)(eV,{}),(0,t.jsx)(eL.Viewport,{className:(0,eA.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,t.jsx)(eU,{})]})})}function eF({className:e,children:r,...n}){return(0,t.jsxs)(eL.Item,{"data-slot":"select-item",className:(0,eA.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[(0,t.jsx)("span",{"data-slot":"select-item-indicator",className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(eL.ItemIndicator,{children:(0,t.jsx)(a.CheckIcon,{className:"size-4"})})}),(0,t.jsx)(eL.ItemText,{children:r})]})}function eV({className:e,...a}){return(0,t.jsx)(eL.ScrollUpButton,{"data-slot":"select-scroll-up-button",className:(0,eA.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,t.jsx)(s,{className:"size-4"})})}function eU({className:e,...a}){return(0,t.jsx)(eL.ScrollDownButton,{"data-slot":"select-scroll-down-button",className:(0,eA.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,t.jsx)(n,{className:"size-4"})})}e.s(["Select",()=>e_,"SelectContent",()=>eB,"SelectItem",()=>eF,"SelectTrigger",()=>eH,"SelectValue",()=>eM],67489)},72436,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(48425),n="horizontal",s=["horizontal","vertical"],o=a.forwardRef((e,a)=>{var o;let{decorative:i,orientation:l=n,...d}=e,c=(o=l,s.includes(o))?l:n;return(0,t.jsx)(r.Primitive.div,{"data-orientation":c,...i?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:a})});o.displayName="Separator",e.s(["Root",()=>o,"Separator",()=>o],86392);var i=e.i(86392),i=i,l=e.i(75157);function d({className:e,orientation:a="horizontal",decorative:r=!0,...n}){return(0,t.jsx)(i.Root,{"data-slot":"separator",decorative:r,orientation:a,className:(0,l.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}e.s(["Separator",()=>d],72436)},68148,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(30030),n=e.i(48425),s="Progress",[o,i]=(0,r.createContextScope)(s),[l,d]=o(s),c=a.forwardRef((e,a)=>{var r,s;let{__scopeProgress:o,value:i=null,max:d,getValueLabel:c=m,...u}=e;(d||0===d)&&!g(d)&&console.error((r=`${d}`,`Invalid prop \`max\` of value \`${r}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let p=g(d)?d:100;null===i||x(i,p)||console.error((s=`${i}`,`Invalid prop \`value\` of value \`${s}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let v=x(i,p)?i:null,b=h(v)?c(v,p):void 0;return(0,t.jsx)(l,{scope:o,value:v,max:p,children:(0,t.jsx)(n.Primitive.div,{"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":h(v)?v:void 0,"aria-valuetext":b,role:"progressbar","data-state":f(v,p),"data-value":v??void 0,"data-max":p,...u,ref:a})})});c.displayName=s;var u="ProgressIndicator",p=a.forwardRef((e,a)=>{let{__scopeProgress:r,...s}=e,o=d(u,r);return(0,t.jsx)(n.Primitive.div,{"data-state":f(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...s,ref:a})});function m(e,t){return`${Math.round(e/t*100)}%`}function f(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function h(e){return"number"==typeof e}function g(e){return h(e)&&!isNaN(e)&&e>0}function x(e,t){return h(e)&&!isNaN(e)&&e<=t&&e>=0}p.displayName=u,e.s(["Indicator",()=>p,"Progress",()=>c,"ProgressIndicator",()=>p,"Root",()=>c,"createProgressScope",()=>i],76027);var v=e.i(76027),v=v,b=e.i(75157);function w({className:e,value:a,...r}){return(0,t.jsx)(v.Root,{"data-slot":"progress",className:(0,b.cn)("bg-accent-blue/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:(0,t.jsx)(v.Indicator,{"data-slot":"progress-indicator",className:"bg-accent-blue h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})})}e.s(["Progress",()=>w],68148)},56909,e=>{"use strict";let t=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},69074,e=>{"use strict";let t=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>t],69074)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},95468,e=>{"use strict";var t=e.i(23287);e.s(["CheckCircle2",()=>t.default])},43531,e=>{"use strict";var t=e.i(78745);e.s(["Check",()=>t.default])},3408,e=>{"use strict";let t=(0,e.i(75254).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["default",()=>t])},10204,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(48425),n=a.forwardRef((e,a)=>(0,t.jsx)(r.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label",e.s(["Label",()=>n,"Root",()=>n],73741);var s=e.i(73741),s=s,o=e.i(75157);function i({className:e,...a}){return(0,t.jsx)(s.Root,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>i],10204)},24687,e=>{"use strict";var t=e.i(43476),a=e.i(75157);function r({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 aria-invalid:border-destructive flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}e.s(["Textarea",()=>r])},35501,e=>{"use strict";var t=e.i(3408);e.s(["ImageIcon",()=>t.default])},77572,52008,e=>{"use strict";var t=e.i(43476),a=e.i(25913),r=e.i(71645),n=e.i(81140),s=e.i(30030),o=e.i(42727),i=e.i(96626),l=e.i(48425),d=e.i(86318),c=e.i(69340),u=e.i(10772),p="Tabs",[m,f]=(0,s.createContextScope)(p,[o.createRovingFocusGroupScope]),h=(0,o.createRovingFocusGroupScope)(),[g,x]=m(p),v=r.forwardRef((e,a)=>{let{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:m,activationMode:f="automatic",...h}=e,x=(0,d.useDirection)(m),[v,b]=(0,c.useControllableState)({prop:n,onChange:s,defaultProp:o??"",caller:p});return(0,t.jsx)(g,{scope:r,baseId:(0,u.useId)(),value:v,onValueChange:b,orientation:i,dir:x,activationMode:f,children:(0,t.jsx)(l.Primitive.div,{dir:x,"data-orientation":i,...h,ref:a})})});v.displayName=p;var b="TabsList",w=r.forwardRef((e,a)=>{let{__scopeTabs:r,loop:n=!0,...s}=e,i=x(b,r),d=h(r);return(0,t.jsx)(o.Root,{asChild:!0,...d,orientation:i.orientation,dir:i.dir,loop:n,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:a})})});w.displayName=b;var j="TabsTrigger",y=r.forwardRef((e,a)=>{let{__scopeTabs:r,value:s,disabled:i=!1,...d}=e,c=x(j,r),u=h(r),p=C(c.baseId,s),m=P(c.baseId,s),f=s===c.value;return(0,t.jsx)(o.Item,{asChild:!0,...u,focusable:!i,active:f,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":m,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:p,...d,ref:a,onMouseDown:(0,n.composeEventHandlers)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(s)}),onKeyDown:(0,n.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(s)}),onFocus:(0,n.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;f||i||!e||c.onValueChange(s)})})})});y.displayName=j;var S="TabsContent",N=r.forwardRef((e,a)=>{let{__scopeTabs:n,value:s,forceMount:o,children:d,...c}=e,u=x(S,n),p=C(u.baseId,s),m=P(u.baseId,s),f=s===u.value,h=r.useRef(f);return r.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(i.Presence,{present:o||f,children:({present:r})=>(0,t.jsx)(l.Primitive.div,{"data-state":f?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":p,hidden:!r,id:m,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:h.current?"0s":void 0},children:r&&d})})});function C(e,t){return`${e}-trigger-${t}`}function P(e,t){return`${e}-content-${t}`}N.displayName=S,e.s(["Content",()=>N,"List",()=>w,"Root",()=>v,"Tabs",()=>v,"TabsContent",()=>N,"TabsList",()=>w,"TabsTrigger",()=>y,"Trigger",()=>y,"createTabsScope",()=>f],26209);var k=e.i(26209),k=k,R=e.i(75157);function I({className:e,orientation:a="horizontal",...r}){return(0,t.jsx)(k.Root,{"data-slot":"tabs","data-orientation":a,orientation:a,className:(0,R.cn)("group/tabs flex gap-2 data-[orientation=horizontal]:flex-col",e),...r})}let T=(0,a.cva)("rounded-lg p-[3px] group-data-[orientation=horizontal]/tabs:h-9 data-[variant=line]:rounded-none group/tabs-list text-muted-foreground inline-flex w-fit items-center justify-center group-data-[orientation=vertical]/tabs:h-fit group-data-[orientation=vertical]/tabs:flex-col",{variants:{variant:{default:"bg-muted",line:"gap-1 bg-transparent"}},defaultVariants:{variant:"default"}});function D({className:e,variant:a="default",...r}){return(0,t.jsx)(k.List,{"data-slot":"tabs-list","data-variant":a,className:(0,R.cn)(T({variant:a}),e),...r})}function E({className:e,...a}){return(0,t.jsx)(k.Trigger,{"data-slot":"tabs-trigger",className:(0,R.cn)("focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground/60 hover:text-foreground relative inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-all group-data-[orientation=vertical]/tabs:w-full group-data-[orientation=vertical]/tabs:justify-start focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 group-data-[variant=default]/tabs-list:data-[state=active]:shadow-sm group-data-[variant=line]/tabs-list:data-[state=active]:shadow-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4","group-data-[variant=line]/tabs-list:bg-transparent group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent","data-[state=active]:bg-background data-[state=active]:text-foreground","after:bg-foreground after:absolute after:opacity-0 after:transition-opacity group-data-[orientation=horizontal]/tabs:after:inset-x-0 group-data-[orientation=horizontal]/tabs:after:bottom-[-5px] group-data-[orientation=horizontal]/tabs:after:h-0.5 group-data-[orientation=vertical]/tabs:after:inset-y-0 group-data-[orientation=vertical]/tabs:after:-right-1 group-data-[orientation=vertical]/tabs:after:w-0.5 group-data-[variant=line]/tabs-list:data-[state=active]:after:opacity-100",e),...a})}function z({className:e,...a}){return(0,t.jsx)(k.Content,{"data-slot":"tabs-content",className:(0,R.cn)("flex-1 outline-none",e),...a})}e.s(["Tabs",()=>I,"TabsContent",()=>z,"TabsList",()=>D,"TabsTrigger",()=>E],77572);let L=(0,e.i(75254).default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);e.s(["Layers",()=>L],52008)},64659,55900,e=>{"use strict";var t=e.i(31171);e.s(["ChevronDown",()=>t.default],64659);var a=e.i(99219);e.s(["ChevronUp",()=>a.default],55900)},74886,e=>{"use strict";let t=(0,e.i(75254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],74886)},77300,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(19455),n=e.i(72436),s=e.i(77572),o=e.i(10204),i=e.i(24687),l=e.i(67692),d=e.i(67489),c=e.i(31278),u=e.i(83086),p=e.i(69074),m=e.i(37727),f=e.i(35501),h=e.i(46696);let g=["image/jpeg","image/png","image/webp","image/gif"],x={google:"Google Gemini (Recommended)",openai:"OpenAI (GPT-4o)",anthropic:"Claude (Anthropic)"};function v({onGenerated:e}){let[n,s]=(0,a.useState)("google"),[v,b]=(0,a.useState)(""),[w,j]=(0,a.useState)(1),[y,S]=(0,a.useState)(!1),[N,C]=(0,a.useState)(null),[P,k]=(0,a.useState)(null),[R,I]=(0,a.useState)(!1),T=(0,a.useRef)(null),D=(0,a.useCallback)(e=>{if(!g.includes(e.type))return void h.toast.error("Unsupported format. Use JPEG, PNG, WebP, or GIF.");if(e.size>0x1400000)return void h.toast.error("File too large. Maximum 20MB.");C(e);let t=new FileReader;t.onload=e=>{k(e.target?.result)},t.readAsDataURL(e)},[]),E=(0,a.useCallback)(e=>{e.preventDefault(),I(!1);let t=e.dataTransfer.files[0];t&&D(t)},[D]),z=(0,a.useCallback)(e=>{e.preventDefault(),I(!0)},[]),L=(0,a.useCallback)(e=>{e.preventDefault(),I(!1)},[]),A=async()=>{if(!N||!P)return void h.toast.error("Upload an image first");S(!0);try{let t=null;try{let e=new FormData;e.append("file",N),e.append("tags",JSON.stringify(["prompt-source"]));let a=await fetch("/api/assets/upload",{method:"POST",body:e}),r=await a.json();a.ok&&r.asset?.id&&(t=r.asset.id)}catch{console.warn("Failed to upload source image to asset library")}let a=P.split(",")[1],r=await fetch("/api/prompts/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:n,image_base64:a,content_type:N.type,custom_instructions:v.trim()||void 0,variation_count:w})});if(!r.ok){let e=await r.json();h.toast.error(e.error||"Generation failed"),S(!1);return}let s=await r.json(),o=s.prompts||[s.prompt];h.toast.success(o.length>1?`${o.length} prompt variations generated!`:"Prompt generated!"),e(o,P,t)}catch{h.toast.error("Failed to generate prompt")}finally{S(!1)}};return(0,t.jsxs)("div",{className:"space-y-4 rounded-lg bg-card border border-border p-6 transition-colors duration-200 hover:bg-card-hover",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Analyze Image"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Upload an inspiration image and AI will generate a detailed prompt to recreate the scene."}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{children:"AI Provider"}),(0,t.jsxs)(d.Select,{value:n,onValueChange:e=>s(e),children:[(0,t.jsx)(d.SelectTrigger,{className:"w-[220px]",children:(0,t.jsx)(d.SelectValue,{})}),(0,t.jsxs)(d.SelectContent,{children:[(0,t.jsx)(d.SelectItem,{value:"google",children:x.google}),(0,t.jsx)(d.SelectItem,{value:"openai",children:x.openai}),(0,t.jsx)(d.SelectItem,{value:"anthropic",children:x.anthropic})]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"google"===n?"Best for analyzing photos of people. Fast and reliable.":"openai"===n?"API may decline to analyze photos of real people.":"May decline to analyze photos of real people."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{children:"Image"}),P?(0,t.jsxs)("div",{className:"relative flex gap-3 items-center rounded-md p-3 bg-muted/30",children:[(0,t.jsx)("img",{src:P,alt:"Uploaded",className:"h-24 w-24 rounded-md object-cover"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:N?.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:N?`${(N.size/1024/1024).toFixed(1)} MB`:""}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[x[n]," will analyze this image and generate a detailed recreation prompt."]})]}),(0,t.jsx)(r.Button,{variant:"ghost",size:"icon",onClick:()=>{C(null),k(null)},className:"absolute top-2 right-2 h-7 w-7",children:(0,t.jsx)(m.X,{className:"h-4 w-4"})})]}):(0,t.jsxs)("div",{onClick:()=>T.current?.click(),onDrop:E,onDragOver:z,onDragLeave:L,className:`flex flex-col items-center justify-center gap-2 rounded-lg border-2 border-dashed p-8 cursor-pointer transition-colors ${R?"border-accent-blue bg-accent-blue/5":"border-muted-foreground/25 hover:border-muted-foreground/50"}`,children:[R?(0,t.jsx)(p.Upload,{className:"h-8 w-8 text-accent-blue"}):(0,t.jsx)(f.ImageIcon,{className:"h-8 w-8 text-muted-foreground"}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:R?"Drop image here":"Click to upload or drag and drop"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"JPEG, PNG, WebP, or GIF (max 20MB)"})]})]}),(0,t.jsx)("input",{ref:T,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:e=>{let t=e.target.files?.[0];t&&D(t),e.target.value=""},className:"hidden"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(o.Label,{children:"Variations"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground font-mono",children:w})]}),(0,t.jsx)(l.Slider,{value:[w],onValueChange:([e])=>j(e),min:1,max:10,step:1,className:"w-full"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:1===w?"Generate 1 prompt from this image.":`Generate ${w} variations â€” same pose, different outfit colors & backgrounds.`})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(o.Label,{htmlFor:"custom-instructions",children:["Custom Instructions"," ",(0,t.jsx)("span",{className:"text-muted-foreground font-normal",children:"(optional)"})]}),(0,t.jsx)(i.Textarea,{id:"custom-instructions",placeholder:"e.g., Focus on the lighting setup, emphasize the color palette, describe the background in more detail...",value:v,onChange:e=>b(e.target.value),rows:3})]}),(0,t.jsx)(r.Button,{onClick:A,disabled:y||!N,className:"w-full",children:y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Analyzing image & generating ",w>1?`${w} prompts`:"prompt","..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Sparkles,{className:"h-4 w-4 mr-2"}),"Analyze Image & Generate ",w>1?`${w} Prompts`:"Prompt"]})})]})}var b=e.i(15288),w=e.i(43531),j=e.i(74886),y=e.i(88699);function S({prompt:e,onPromptChange:n}){let[s,o]=(0,a.useState)(!1),[l,d]=(0,a.useState)(e),[c,u]=(0,a.useState)(!1),p=async()=>{await navigator.clipboard.writeText(e),u(!0),h.toast.success("Prompt copied to clipboard"),setTimeout(()=>u(!1),2e3)};return(0,t.jsxs)(b.Card,{children:[(0,t.jsxs)(b.CardHeader,{className:"pb-2 flex-row items-center justify-between space-y-0",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Scene Recreation Prompt"}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Button,{size:"sm",variant:"ghost",onClick:()=>{n(l),o(!1)},children:(0,t.jsx)(w.Check,{className:"h-4 w-4"})}),(0,t.jsx)(r.Button,{size:"sm",variant:"ghost",onClick:()=>{d(e),o(!1)},children:(0,t.jsx)(m.X,{className:"h-4 w-4"})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Button,{size:"sm",variant:"ghost",onClick:()=>{d(e),o(!0)},children:(0,t.jsx)(y.Pencil,{className:"h-4 w-4"})}),(0,t.jsx)(r.Button,{size:"sm",variant:"ghost",onClick:p,children:c?(0,t.jsx)(w.Check,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(j.Copy,{className:"h-4 w-4"})})]})})]}),(0,t.jsx)(b.CardContent,{children:s?(0,t.jsx)(i.Textarea,{value:l,onChange:e=>d(e.target.value),rows:12,className:"text-sm font-mono",autoFocus:!0}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap leading-relaxed",children:e})})]})}var N=e.i(87486),C=e.i(68499),P=e.i(55146),k=e.i(27612),R=e.i(64659),I=e.i(55900);let T=(0,e.i(75254).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var D=e.i(75157),E=e.i(95187);let z=(0,E.createServerReference)("603a2216d6dae2430e450d9d9d8657b8fbef47f05d",E.callServer,void 0,E.findSourceMapURL,"updatePromptAction"),L=(0,E.createServerReference)("40886c4094dc8e7fa94b50409e37b3bd3c23af2705",E.callServer,void 0,E.findSourceMapURL,"deletePromptAction");function A({prompts:e,onPromptsChange:n}){let[s,o]=(0,a.useState)(new Set),[l,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(null),[p,g]=(0,a.useState)(null),[x,v]=(0,a.useState)(""),[b,S]=(0,a.useState)(null),E=async(e,t)=>{await navigator.clipboard.writeText(t),o(t=>new Set(t).add(e)),d(e),h.toast.success("Copied to clipboard"),setTimeout(()=>d(null),2e3)},A=async()=>{if(!p)return;let e=await z(p,x);e.success?(h.toast.success("Prompt updated"),n()):h.toast.error(e.error),g(null)},_=async()=>{if(!b)return;let e=await L(b);e.success?(h.toast.success("Prompt deleted"),n()):h.toast.error(e.error),S(null)};return 0===e.length?null:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Saved Prompts"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.length," prompt",1!==e.length?"s":""]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:e.map(e=>{let a=c===e.id,n=p===e.id,o=s.has(e.id),d=l===e.id,h=e.prompt_text.length>80?e.prompt_text.slice(0,80)+"...":e.prompt_text;return(0,t.jsxs)("div",{className:`rounded-lg overflow-hidden transition-all duration-200 ${o?"bg-green-950/30 ring-1 ring-green-800":"bg-card text-card-foreground border border-border hover:bg-card-hover"}`,children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:e.source_image?.signed_url?(0,t.jsx)("img",{src:e.source_image.signed_url,alt:"Source",className:"h-16 w-16 rounded-md object-cover"}):(0,t.jsx)("div",{className:"h-16 w-16 rounded-md bg-muted flex items-center justify-center",children:(0,t.jsx)(f.ImageIcon,{className:"h-6 w-6 text-muted-foreground/50"})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 space-y-1",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2",children:h}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 flex-wrap",children:[(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground",children:(0,D.formatDate)(e.created_at)}),e.variation_label&&(0,t.jsx)(N.Badge,{variant:"secondary",className:"text-[10px] px-1 py-0 h-4",children:e.variation_label}),e.is_edited&&(0,t.jsx)(N.Badge,{variant:"outline",className:"text-[10px] px-1 py-0 h-4 text-amber-600",children:"Edited"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[(0,t.jsx)(r.Button,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:t=>{t.stopPropagation(),E(e.id,e.prompt_text)},title:o?"Copied â€” click to copy again":"Copy prompt",children:d?(0,t.jsx)(w.Check,{className:"h-3.5 w-3.5 text-green-600"}):o?(0,t.jsx)(w.Check,{className:"h-3.5 w-3.5 text-green-500"}):(0,t.jsx)(j.Copy,{className:"h-3.5 w-3.5"})}),(0,t.jsx)(r.Button,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:()=>{var t;p!==(t=e.id)&&u(e=>e===t?null:t)},title:a?"Collapse":"Expand",children:a?(0,t.jsx)(I.ChevronUp,{className:"h-3.5 w-3.5"}):(0,t.jsx)(R.ChevronDown,{className:"h-3.5 w-3.5"})}),(0,t.jsxs)(P.DropdownMenu,{children:[(0,t.jsx)(P.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(r.Button,{size:"icon",variant:"ghost",className:"h-7 w-7",children:(0,t.jsx)(T,{className:"h-3.5 w-3.5"})})}),(0,t.jsxs)(P.DropdownMenuContent,{align:"end",children:[(0,t.jsxs)(P.DropdownMenuItem,{onClick:()=>{g(e.id),v(e.prompt_text),u(e.id)},children:[(0,t.jsx)(y.Pencil,{className:"h-3.5 w-3.5 mr-2"}),"Edit"]}),(0,t.jsxs)(P.DropdownMenuItem,{className:"text-destructive focus:text-destructive",onClick:()=>S(e.id),children:[(0,t.jsx)(k.Trash2,{className:"h-3.5 w-3.5 mr-2"}),"Delete"]})]})]})]})]}),a&&(0,t.jsx)("div",{className:"border-t px-3 pb-3 pt-2",children:n?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Textarea,{value:x,onChange:e=>v(e.target.value),rows:6,className:"text-xs font-mono",autoFocus:!0}),(0,t.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[(0,t.jsxs)(r.Button,{size:"sm",variant:"ghost",onClick:()=>g(null),children:[(0,t.jsx)(m.X,{className:"h-3.5 w-3.5 mr-1"}),"Cancel"]}),(0,t.jsxs)(r.Button,{size:"sm",onClick:A,children:[(0,t.jsx)(w.Check,{className:"h-3.5 w-3.5 mr-1"}),"Save"]})]})]}):(0,t.jsx)("p",{className:"text-xs text-muted-foreground whitespace-pre-wrap leading-relaxed",children:e.prompt_text})})]},e.id)})}),(0,t.jsx)(C.AlertDialog,{open:!!b,onOpenChange:e=>!e&&S(null),children:(0,t.jsxs)(C.AlertDialogContent,{children:[(0,t.jsxs)(C.AlertDialogHeader,{children:[(0,t.jsx)(C.AlertDialogTitle,{children:"Delete Prompt"}),(0,t.jsx)(C.AlertDialogDescription,{children:"Are you sure you want to delete this prompt? This cannot be undone."})]}),(0,t.jsxs)(C.AlertDialogFooter,{children:[(0,t.jsx)(C.AlertDialogCancel,{children:"Cancel"}),(0,t.jsx)(C.AlertDialogAction,{onClick:_,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}var _=e.i(68148),M=e.i(95468),H=e.i(63209);let B=(0,E.createServerReference)("40cc7ce593799f345f22d67d5cee644da005a9b3ab",E.callServer,void 0,E.findSourceMapURL,"savePromptsAction"),F=["image/jpeg","image/png","image/webp","image/gif"];function V({onComplete:e}){let[n,s]=(0,a.useState)("google"),[g,x]=(0,a.useState)(""),[v,b]=(0,a.useState)(1),[w,j]=(0,a.useState)([]),[y,S]=(0,a.useState)(!1),[C,P]=(0,a.useState)(!1),k=(0,a.useRef)(null),R=(0,a.useCallback)(e=>{let t=[];for(let a of Array.from(e)){if(!F.includes(a.type)){h.toast.error(`${a.name}: unsupported format`);continue}if(a.size>0x1400000){h.toast.error(`${a.name}: exceeds 20MB`);continue}let e=URL.createObjectURL(a);t.push({id:crypto.randomUUID(),file:a,preview:e,status:"pending"})}t.length>0&&j(e=>[...e,...t])},[]),I=(0,a.useCallback)(e=>{e.preventDefault(),P(!1),R(e.dataTransfer.files)},[R]),T=(e,t)=>{j(a=>a.map(a=>a.id===e?{...a,...t}:a))},E=async e=>{try{T(e.id,{status:"uploading"});let t=new FormData;t.append("file",e.file),t.append("tags",JSON.stringify(["prompt-source"]));let a=await fetch("/api/assets/upload",{method:"POST",body:t}),r=await a.json();if(!a.ok)return void T(e.id,{status:"error",error:r.error||"Upload failed"});let s=r.asset?.id||null;T(e.id,{assetId:s}),T(e.id,{status:"analyzing"});let o=await new Promise((t,a)=>{let r=new FileReader;r.onload=e=>{let a=e.target?.result;t(a.split(",")[1])},r.onerror=a,r.readAsDataURL(e.file)}),i=await fetch("/api/prompts/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:n,image_base64:o,content_type:e.file.type,custom_instructions:g.trim()||void 0,variation_count:v})}),l=await i.json();if(!i.ok)return void T(e.id,{status:"error",error:l.error||"Generation failed"});let d=l.prompts||[l.prompt];T(e.id,{status:"saving"});let c=d.map((e,t)=>({model_id:null,source_image_id:s,prompt_text:e.trim(),prompt_index:t,variation_label:d.length>1?`Variation ${t+1}`:"",metadata:{provider:n,bulk:!0}})),u=await B(c);if(!u.success)return void T(e.id,{status:"error",error:u.error||"Save failed"});T(e.id,{status:"done",promptCount:d.length})}catch(t){T(e.id,{status:"error",error:t instanceof Error?t.message:"Processing failed"})}},z=async()=>{let t=w.filter(e=>"pending"===e.status);if(0===t.length)return void h.toast.error("No images to process");for(let e of(S(!0),h.toast.info(`Processing ${t.length} image${t.length>1?"s":""}...`),t))await E(e);S(!1),w.filter(e=>"done"===e.status).length,t.filter(e=>!0).length,h.toast.success("Bulk processing complete!"),e()},L=w.filter(e=>"pending"===e.status).length,A=w.filter(e=>"uploading"===e.status||"analyzing"===e.status||"saving"===e.status).length,V=w.filter(e=>"done"===e.status).length,U=w.filter(e=>"error"===e.status).length,O=V+U;w.filter(e=>"done"!==e.status&&"error"!==e.status).length;let $=w.length>0?Math.round(O/w.length*100):0;return(0,t.jsxs)("div",{className:"space-y-4 rounded-lg bg-card border border-border p-6 transition-colors duration-200 hover:bg-card-hover",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Bulk Analyze Images"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Upload multiple images. Each will be analyzed and prompts auto-saved."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{children:"AI Provider"}),(0,t.jsxs)(d.Select,{value:n,onValueChange:e=>s(e),disabled:y,children:[(0,t.jsx)(d.SelectTrigger,{children:(0,t.jsx)(d.SelectValue,{})}),(0,t.jsxs)(d.SelectContent,{children:[(0,t.jsx)(d.SelectItem,{value:"google",children:"Google Gemini (Recommended)"}),(0,t.jsx)(d.SelectItem,{value:"openai",children:"OpenAI (GPT-4o)"}),(0,t.jsx)(d.SelectItem,{value:"anthropic",children:"Claude (Anthropic)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(o.Label,{children:"Variations per Image"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground font-mono",children:v})]}),(0,t.jsx)(l.Slider,{value:[v],onValueChange:([e])=>b(e),min:1,max:10,step:1,disabled:y}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:1===v?"1 prompt per image":`${v} variations per image (different outfits & backgrounds)`})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(o.Label,{children:["Custom Instructions"," ",(0,t.jsx)("span",{className:"text-muted-foreground font-normal",children:"(optional)"})]}),(0,t.jsx)(i.Textarea,{placeholder:"Applied to all images...",value:g,onChange:e=>x(e.target.value),rows:2,disabled:y})]}),!y&&(0,t.jsxs)("div",{onClick:()=>k.current?.click(),onDrop:I,onDragOver:e=>{e.preventDefault(),P(!0)},onDragLeave:e=>{e.preventDefault(),P(!1)},className:(0,D.cn)("flex flex-col items-center justify-center gap-2 rounded-lg border-2 border-dashed p-6 cursor-pointer transition-colors",C?"border-accent-blue bg-accent-blue/5":"border-muted-foreground/25 hover:border-muted-foreground/50"),children:[C?(0,t.jsx)(p.Upload,{className:"h-6 w-6 text-accent-blue"}):(0,t.jsx)(f.ImageIcon,{className:"h-6 w-6 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:C?"Drop images here":"Click or drag to add images"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"JPEG, PNG, WebP, or GIF (max 20MB each)"})]}),(0,t.jsx)("input",{ref:k,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",multiple:!0,onChange:e=>{e.target.files&&R(e.target.files),e.target.value=""},className:"hidden"}),w.length>0&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(o.Label,{className:"text-base",children:["Images (",w.length,")"]}),!y&&(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>{w.forEach(e=>URL.revokeObjectURL(e.preview)),j([])},className:"text-xs text-muted-foreground",children:"Clear All"})]}),(0,t.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-2",children:w.map(e=>(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsxs)("div",{className:(0,D.cn)("aspect-square rounded-md overflow-hidden border-2 transition-colors","done"===e.status&&"border-green-500/50","error"===e.status&&"border-destructive/50","pending"===e.status&&"border-transparent",("uploading"===e.status||"analyzing"===e.status||"saving"===e.status)&&"border-accent-blue/50"),children:[(0,t.jsx)("img",{src:e.preview,alt:e.file.name,className:"h-full w-full object-cover"}),"pending"!==e.status&&"done"!==e.status&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:"error"===e.status?(0,t.jsx)(H.AlertCircle,{className:"h-5 w-5 text-destructive"}):(0,t.jsx)(c.Loader2,{className:"h-5 w-5 text-white animate-spin"})}),"done"===e.status&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:(0,t.jsx)(M.CheckCircle2,{className:"h-5 w-5 text-green-400"})})]}),!y&&"pending"===e.status&&(0,t.jsx)("button",{type:"button",onClick:()=>{var t;return t=e.id,void j(e=>{let a=e.find(e=>e.id===t);return a&&URL.revokeObjectURL(a.preview),e.filter(e=>e.id!==t)})},className:"absolute -top-1.5 -right-1.5 h-5 w-5 rounded-full bg-destructive text-destructive-foreground flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(m.X,{className:"h-3 w-3"})}),"done"===e.status&&e.promptCount&&(0,t.jsx)(N.Badge,{variant:"secondary",className:"absolute bottom-1 right-1 text-[9px] px-1 py-0",children:e.promptCount})]},e.id))}),w.filter(e=>"error"===e.status&&e.error).map(e=>(0,t.jsxs)("p",{className:"text-xs text-destructive",children:[e.file.name,": ",e.error]},e.id))]}),y&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.Loader2,{className:"h-4 w-4 animate-spin text-accent-blue"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:["Processing ",O," of ",w.length," images..."]})]}),(0,t.jsx)(_.Progress,{value:$,className:"h-2"}),(0,t.jsxs)("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[V>0&&(0,t.jsxs)("span",{className:"text-green-600",children:[V," done"]}),U>0&&(0,t.jsxs)("span",{className:"text-destructive",children:[U," failed"]}),A>0&&(0,t.jsxs)("span",{children:[A," processing"]})]})]}),(0,t.jsx)(r.Button,{onClick:z,disabled:y||0===L,className:"w-full",size:"lg",children:y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Sparkles,{className:"h-4 w-4 mr-2"}),"Analyze ",L," Image",1!==L?"s":"",v>1&&` (${L*v} prompts)`]})})]})}var U=e.i(56909),O=e.i(52008);let $=(0,E.createServerReference)("4080a7ba85e37fafbc4df09efa7c0c457b39cf3d12",E.callServer,void 0,E.findSourceMapURL,"getPromptsAction");function G({initialPrompts:e}){let[o,i]=(0,a.useState)([]),[l,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null),[m,g]=(0,a.useState)(!1),[x,b]=(0,a.useState)(e),w=async()=>{if(0===o.length)return;g(!0);let e=o.map((e,t)=>({model_id:null,source_image_id:u,prompt_text:e,prompt_index:t,variation_label:o.length>1?`Variation ${t+1}`:""})),t=await B(e);g(!1),t.success?(h.toast.success(e.length>1?`${e.length} prompts saved!`:"Prompt saved!"),i([]),d(null),p(null),j()):h.toast.error(t.error||"Failed to save")},j=(0,a.useCallback)(async()=>{let e=await $({limit:50});e.error||b(e.prompts)},[]);return(0,t.jsxs)("div",{className:"space-y-8 max-w-3xl",children:[(0,t.jsxs)(s.Tabs,{defaultValue:"single",className:"w-full",children:[(0,t.jsxs)(s.TabsList,{className:"grid w-full grid-cols-2 max-w-xs",children:[(0,t.jsxs)(s.TabsTrigger,{value:"single",className:"gap-1.5",children:[(0,t.jsx)(f.ImageIcon,{className:"h-3.5 w-3.5"}),"Single Image"]}),(0,t.jsxs)(s.TabsTrigger,{value:"bulk",className:"gap-1.5",children:[(0,t.jsx)(O.Layers,{className:"h-3.5 w-3.5"}),"Bulk Upload"]})]}),(0,t.jsxs)(s.TabsContent,{value:"single",className:"mt-4",children:[(0,t.jsx)(v,{onGenerated:(e,t,a)=>{i(e),d(t),p(a)}}),o.length>0&&(0,t.jsxs)("div",{className:"space-y-4 mt-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold",children:["Generated Prompt",o.length>1?"s":"",o.length>1&&(0,t.jsxs)("span",{className:"text-sm text-muted-foreground font-normal ml-2",children:["(",o.length," variations)"]})]}),(0,t.jsx)(r.Button,{onClick:w,disabled:m,children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.Save,{className:"h-4 w-4 mr-2"}),"Save ",o.length>1?"All":"Prompt"]})})]}),l&&(0,t.jsxs)("div",{className:"flex gap-3 items-center rounded-md p-3 bg-muted/30",children:[(0,t.jsx)("img",{src:l,alt:"Analyzed",className:"h-16 w-16 rounded-md object-cover"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:o.length>1?`${o.length} prompt variations generated from this image`:"Prompt generated from this image"})]}),(0,t.jsx)("div",{className:"space-y-3",children:o.map((e,a)=>(0,t.jsxs)("div",{children:[o.length>1&&(0,t.jsxs)("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:["Variation ",a+1]}),(0,t.jsx)(S,{prompt:e,onPromptChange:e=>{i(t=>t.map((t,r)=>r===a?e:t))}})]},a))})]})]}),(0,t.jsx)(s.TabsContent,{value:"bulk",className:"mt-4",children:(0,t.jsx)(V,{onComplete:j})})]}),x.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Separator,{}),(0,t.jsx)(A,{prompts:x,onPromptsChange:j})]})]})}e.s(["PromptGenerator",()=>G],77300)}]);