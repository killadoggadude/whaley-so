(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40160,e=>{"use strict";let t=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],40160)},48425,e=>{"use strict";var t=e.i(71645),r=e.i(74080),a=e.i(91918),s=e.i(43476),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let i=(0,a.createSlot)(`Primitive.${r}`),n=t.forwardRef((e,t)=>{let{asChild:a,...n}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(a?i:r,{...n,ref:t})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{});function n(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>n])},31278,e=>{"use strict";var t=e.i(17521);e.s(["Loader2",()=>t.default])},87486,e=>{"use strict";var t=e.i(43476),r=e.i(25913),a=e.i(86011),s=e.i(75157);let i=(0,r.cva)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function n({className:e,variant:r="default",asChild:n=!1,...o}){let l=n?a.Slot.Root:"span";return(0,t.jsx)(l,{"data-slot":"badge","data-variant":r,className:(0,s.cn)(i({variant:r}),e),...o})}e.s(["Badge",()=>n])},10204,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(48425),s=r.forwardRef((e,r)=>(0,t.jsx)(a.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label",e.s(["Label",()=>s,"Root",()=>s],73741);var i=e.i(73741),i=i,n=e.i(75157);function o({className:e,...r}){return(0,t.jsx)(i.Root,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>o],10204)},24687,e=>{"use strict";var t=e.i(43476),r=e.i(75157);function a({className:e,...a}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 aria-invalid:border-destructive flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...a})}e.s(["Textarea",()=>a])},74886,e=>{"use strict";let t=(0,e.i(75254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],74886)},18629,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(19455),s=e.i(10204),i=e.i(24687),n=e.i(87486),o=e.i(75157);function l({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,o.cn)("w-full caption-bottom text-sm",e),...r})})}function c({className:e,...r}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,o.cn)("[&_tr]:border-b",e),...r})}function d({className:e,...r}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,o.cn)("[&_tr:last-child]:border-0",e),...r})}function u({className:e,...r}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,o.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...r})}function x({className:e,...r}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,o.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}function h({className:e,...r}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,o.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}var m=e.i(74886),p=e.i(40160),b=e.i(46696);function v({results:e}){return 0===e.length?null:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold",children:["Results (",e.length,")"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(a.Button,{size:"sm",variant:"outline",onClick:()=>{let t=new Blob(["URL,Platform,Transcript,Word Count\n"+e.map(e=>`"${e.url}","${e.platform}","${e.transcript.replace(/"/g,'""')}",${e.word_count}`).join("\n")],{type:"text/csv"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=`transcriptions-${Date.now()}.csv`,a.click(),URL.revokeObjectURL(r)},children:[(0,t.jsx)(p.Download,{className:"h-4 w-4 mr-1"}),"CSV"]}),(0,t.jsxs)(a.Button,{size:"sm",variant:"outline",onClick:()=>{let t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=`transcriptions-${Date.now()}.json`,a.click(),URL.revokeObjectURL(r)},children:[(0,t.jsx)(p.Download,{className:"h-4 w-4 mr-1"}),"JSON"]})]})]}),(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(l,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(u,{children:[(0,t.jsx)(x,{className:"w-[200px]",children:"URL"}),(0,t.jsx)(x,{className:"w-[100px]",children:"Platform"}),(0,t.jsx)(x,{children:"Transcript"}),(0,t.jsx)(x,{className:"w-[80px]",children:"Words"}),(0,t.jsx)(x,{className:"w-[60px]"})]})}),(0,t.jsx)(d,{children:e.map((e,r)=>(0,t.jsxs)(u,{children:[(0,t.jsx)(h,{className:"font-mono text-xs truncate max-w-[200px]",children:e.url}),(0,t.jsx)(h,{children:(0,t.jsx)(n.Badge,{variant:"secondary",children:e.platform})}),(0,t.jsx)(h,{children:e.error?(0,t.jsx)("span",{className:"text-destructive text-sm",children:e.error}):(0,t.jsx)("p",{className:"text-sm line-clamp-3",children:e.transcript})}),(0,t.jsx)(h,{className:"text-sm",children:e.word_count}),(0,t.jsx)(h,{children:e.transcript&&(0,t.jsx)(a.Button,{size:"sm",variant:"ghost",onClick:()=>{var t;return t=e.transcript,void(navigator.clipboard.writeText(t),b.toast.success("Copied to clipboard"))},children:(0,t.jsx)(m.Copy,{className:"h-4 w-4"})})})]},r))})]})})]})}var f=e.i(31278);function g(){let[e,n]=(0,r.useState)(""),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!1),u=e.split("\n").filter(e=>e.trim().length>0).length,x=async()=>{let t=e.split("\n").map(e=>e.trim()).filter(e=>e.length>0);if(0===t.length)return void b.toast.error("Enter at least one URL");d(!0),l([]);try{let e=await fetch("/api/transcribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:t})});if(!e.ok){let t=await e.json();b.toast.error(t.error||"Transcription failed"),d(!1);return}let r=await e.json();l(r.results);let a=r.results.filter(e=>!e.error).length;b.toast.success(`Transcribed ${a}/${r.results.length} videos`)}catch(e){b.toast.error("Failed to transcribe videos")}finally{d(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"max-w-2xl space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"urls",children:"Video URLs (one per line)"}),(0,t.jsx)(i.Textarea,{id:"urls",placeholder:`https://www.instagram.com/reel/...
https://www.tiktok.com/@user/video/...
https://www.youtube.com/watch?v=...`,value:e,onChange:e=>n(e.target.value),rows:6}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[u," URL",1!==u?"s":""," entered. Supports Instagram, TikTok, and YouTube."]}),(0,t.jsx)(a.Button,{onClick:x,disabled:c||0===u,children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Transcribing..."]}):`Transcribe ${u} Video${1!==u?"s":""}`})]}),(0,t.jsx)(v,{results:o})]})}e.s(["TranscribeForm",()=>g],18629)}]);