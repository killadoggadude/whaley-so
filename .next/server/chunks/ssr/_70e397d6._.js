module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border border-border py-6 transition-colors duration-200 hover:bg-card-hover",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},99464,a=>{"use strict";let b=(0,a.i(70106).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);a.s(["Pencil",()=>b],99464)},67453,a=>{"use strict";var b=a.i(67511);a.s(["CheckCircle2",()=>b.default])},33441,a=>{"use strict";var b=a.i(34157);a.s(["Check",()=>b.default])},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},69520,a=>{"use strict";let b=(0,a.i(70106).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],69520)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},52495,a=>{"use strict";let b=(0,a.i(70106).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["ExternalLink",()=>b],52495)},71370,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(99570),e=a.i(66718),f=a.i(86304),g=a.i(81560),h=a.i(99464),i=a.i(33441),j=a.i(33508),k=a.i(5050);let l=(0,k.createServerReference)("6099e9cb2faad4ef580894dabc806fdb087b33e0ea",k.callServer,void 0,k.findSourceMapURL,"saveApiKeyAction"),m=(0,k.createServerReference)("40686b42855a566696d8a473cc04cfda72769a2bbc",k.callServer,void 0,k.findSourceMapURL,"deleteApiKeyAction");var n=a.i(23292);let o={elevenlabs:"ElevenLabs",higgsfield:"Higgsfield",wavespeed:"Wavespeed",anthropic:"Anthropic (Claude)",openai:"OpenAI (GPT-4o)",google:"Google AI (Gemini)"};function p({service:a,existing:k}){let[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(!1),v=async()=>{if(!r.trim())return;u(!0);let b=await l(a,r);u(!1),b.success?(n.toast.success(`${o[a]} API key saved`),q(!1),s("")):n.toast.error(b.error||"Failed to save")},w=async()=>{u(!0);let b=await m(a);u(!1),b.success?n.toast.success(`${o[a]} API key removed`):n.toast.error(b.error||"Failed to delete")};return(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-card border border-border p-4 transition-colors duration-200 hover:bg-card-hover",children:[(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:o[a]}),k?(0,b.jsx)("p",{className:"text-xs text-muted-foreground font-mono",children:k.masked_key}):(0,b.jsx)(f.Badge,{variant:"secondary",className:"text-xs",children:"Not configured"})]})}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:p?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Input,{type:"password",placeholder:"Paste API key...",value:r,onChange:a=>s(a.target.value),className:"w-64 text-sm",autoFocus:!0}),(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",onClick:v,disabled:t||!r.trim(),children:(0,b.jsx)(i.Check,{className:"h-4 w-4"})}),(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",onClick:()=>{q(!1),s("")},children:(0,b.jsx)(j.X,{className:"h-4 w-4"})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",onClick:()=>q(!0),children:(0,b.jsx)(h.Pencil,{className:"h-4 w-4"})}),k&&(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",onClick:w,disabled:t,className:"text-destructive hover:text-destructive",children:(0,b.jsx)(g.Trash2,{className:"h-4 w-4"})})]})})]})}a.s(["ApiKeyCard",()=>p],71370)},10860,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(99570),e=a.i(86304),f=a.i(91119),g=a.i(86192),h=a.i(70106);let i=(0,h.default)("at-sign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);var j=a.i(69520),k=a.i(81560),l=a.i(52495),m=a.i(96221),n=a.i(67453),o=a.i(92e3),p=a.i(41710);let q=(0,h.default)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),r=(0,h.default)("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]);var s=a.i(23292),t=a.i(5050);let u=(0,t.createServerReference)("40ebede4a23e2e7dd4f1eb6b249ec3a0bd044da631",t.callServer,void 0,t.findSourceMapURL,"refreshTokenAction"),v=(0,t.createServerReference)("4034bfbcb3bb5e9a50aae756fafc590c863d8baafc",t.callServer,void 0,t.findSourceMapURL,"disconnectThreadsAction"),w=(0,t.createServerReference)("6094ff390220b11237cc3d065ce48e36c4ec4e19da",t.callServer,void 0,t.findSourceMapURL,"toggleThreadsActiveAction");function x({status:a}){switch(a){case"valid":return(0,b.jsxs)(e.Badge,{variant:"secondary",className:"gap-1 bg-green-100 text-green-800",children:[(0,b.jsx)(n.CheckCircle2,{className:"h-3 w-3"}),"Active"]});case"expiring_soon":return(0,b.jsxs)(e.Badge,{variant:"secondary",className:"gap-1 bg-yellow-100 text-yellow-800",children:[(0,b.jsx)(p.Clock,{className:"h-3 w-3"}),"Expiring Soon"]});case"expired":return(0,b.jsxs)(e.Badge,{variant:"destructive",className:"gap-1",children:[(0,b.jsx)(o.AlertCircle,{className:"h-3 w-3"}),"Expired"]})}}function y({initialAccounts:a}){let[h,n]=(0,c.useState)(a),[o,p]=(0,c.useState)(null),[t,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(null);(0,c.useEffect)(()=>{let a=new URLSearchParams(window.location.search),b=a.get("threads");if("connected"===b){s.toast.success("Threads account connected successfully!");let a=new URL(window.location.href);a.searchParams.delete("threads"),window.history.replaceState({},"",a.toString()),window.location.reload()}else if("error"===b){let b=a.get("message")||"Connection failed";s.toast.error(`Failed to connect Threads: ${b}`);let c=new URL(window.location.href);c.searchParams.delete("threads"),c.searchParams.delete("message"),window.history.replaceState({},"",c.toString())}},[]);let B=async a=>{p(a);let b=await u(a);p(null),b.success?(s.toast.success("Token refreshed successfully!"),n(b=>b.map(b=>b.id===a?{...b,token_status:"valid"}:b))):s.toast.error(b.error||"Failed to refresh token")},C=async a=>{y(a);let b=await v(a);y(null),b.success?(s.toast.success("Threads account disconnected"),n(b=>b.filter(b=>b.id!==a))):s.toast.error(b.error||"Failed to disconnect")},D=async(a,b)=>{A(a);let c=await w(a,!b);A(null),c.success?(s.toast.success(`Account ${!b?"activated":"deactivated"}`),n(c=>c.map(c=>c.id===a?{...c,is_active:!b}:c))):s.toast.error(c.error||"Failed to update account")};return(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i,{className:"h-5 w-5"}),(0,b.jsx)(f.CardTitle,{className:"text-lg",children:"Threads"})]}),(0,b.jsxs)(d.Button,{size:"sm",onClick:()=>{window.location.href="/api/threads/authorize"},children:[(0,b.jsx)(l.ExternalLink,{className:"h-4 w-4 mr-1.5"}),h.length>0?"Connect Another Account":"Connect Threads Account"]})]}),(0,b.jsxs)(f.CardContent,{children:[0===h.length?(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No Threads accounts connected. Connect an account to start scheduling and publishing posts."}):(0,b.jsx)("div",{className:"space-y-3",children:h.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-card border border-border p-4 transition-colors duration-200 hover:bg-card-hover",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[a.profile_pic_url?(0,b.jsx)("img",{src:a.profile_pic_url,alt:a.username,className:"h-10 w-10 rounded-full object-cover"}):(0,b.jsx)("div",{className:"h-10 w-10 rounded-full bg-muted flex items-center justify-center",children:(0,b.jsx)(i,{className:"h-5 w-5 text-muted-foreground"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm font-medium",children:["@",a.username]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,b.jsx)(x,{status:a.token_status}),!a.is_active&&(0,b.jsx)(e.Badge,{variant:"outline",className:"text-xs",children:"Inactive"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",onClick:()=>D(a.id,a.is_active),disabled:z===a.id,title:a.is_active?"Deactivate account":"Activate account",children:z===a.id?(0,b.jsx)(m.Loader2,{className:"h-4 w-4 animate-spin"}):a.is_active?(0,b.jsx)(r,{className:"h-4 w-4 text-green-600"}):(0,b.jsx)(q,{className:"h-4 w-4 text-muted-foreground"})}),(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",onClick:()=>B(a.id),disabled:o===a.id||"expired"===a.token_status,title:"expired"===a.token_status?"Token expired â€” reconnect account":"Refresh token",children:o===a.id?(0,b.jsx)(m.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(j.RefreshCw,{className:"h-4 w-4"})}),(0,b.jsxs)(g.AlertDialog,{children:[(0,b.jsx)(g.AlertDialogTrigger,{asChild:!0,children:(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",disabled:t===a.id,children:t===a.id?(0,b.jsx)(m.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(k.Trash2,{className:"h-4 w-4"})})}),(0,b.jsxs)(g.AlertDialogContent,{children:[(0,b.jsxs)(g.AlertDialogHeader,{children:[(0,b.jsxs)(g.AlertDialogTitle,{children:["Disconnect @",a.username,"?"]}),(0,b.jsx)(g.AlertDialogDescription,{children:"This will remove the Threads account connection. Scheduled posts for this account will not be published. You can reconnect the account at any time."})]}),(0,b.jsxs)(g.AlertDialogFooter,{children:[(0,b.jsx)(g.AlertDialogCancel,{children:"Cancel"}),(0,b.jsx)(g.AlertDialogAction,{onClick:()=>C(a.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Disconnect"})]})]})]})]})]},a.id))}),h.some(a=>"expired"===a.token_status)&&(0,b.jsx)("p",{className:"text-xs text-destructive mt-3",children:"One or more accounts have expired tokens. Please reconnect them to continue publishing."}),h.some(a=>"expiring_soon"===a.token_status)&&(0,b.jsx)("p",{className:"text-xs text-yellow-600 mt-3",children:"One or more account tokens are expiring soon. Click the refresh button to extend them."})]})]})}a.s(["ThreadsConnectionCard",()=>y],10860)}];

//# sourceMappingURL=_70e397d6._.js.map